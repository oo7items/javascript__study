<!-- // 如果您想深入了解并真正了解 Web 上的请求和响应是如何工作的，那么此视频适合您。 因此，这基本上是对 Web 在请求和响应方面的实际工作方式的高级概述。 现在，虽然这些知识不是必需的，但为了在课程中继续前进，这就是我将此视频标记为可选的原因。 所以如果你想更快地继续，你可以安全地跳过它。 但如果你有兴趣，那就继续看吧。 所以这就是我们在第一次谈论 AJAX 调用时已经看到的图表。 因此，回顾一下，每当我们尝试访问 Web 服务器时，作为客户端的浏览器都会向服务器发送请求，然后服务器会发回响应，该响应包含我们请求的数据或网页 . 没错，无论我们是访问整个网页还是只是来自 Web API 的一些数据，此过程的工作方式都完全相同。这整个过程实际上有一个名字，它被称为(请求-响应模型或客户端-服务器架构)。但无论如何，现在让我们更深入地研究一下。
  
  
  
  因此，让我们使用我们在上一个视频中实际访问的 URL 的示例来获取我们的国家/地区数据。现在，每个 URL 都会获得一个 HTTP 或 HTTPS，用于将在此连接上使用的协议。我们稍后会在视频中讨论这个问题。然后我们有域名，在这种情况下是 restcountries.eu。而且在斜线之后，我们必须访问我们想要访问的所谓资源。在这种情况下，就是 /rest/V2 等等。现在这个域名，restcountries.eu 实际上不是我们试图访问的服务器的真实地址。这真的只是一个好听的名字，我们很容易记住。但这意味着我们需要(一种将域名转换为服务器真实地址的方)法。这通过所谓的 D-N-S 发生。所以DNS代表域名服务器，域名服务器是一种特殊的服务器。所以它们基本上就像互联网的电话簿。所以当我们访问任何 Web 服务器时发生的第一步是浏览器向 DNS 发出请求，然后这个特殊服务器将简单地将 (URL 的 Web 地址与服务器的真实 IP 地址进行匹配)，好吧。实际上，这一切都是通过您的 Internet 服务提供商进行的，但此处的完整细节并不重要
  
  
  。
  
  
  您需要从第一部分中保留的是，(域不是真实地址，DNS 会将域转换为真实 IP 地址)。然后在将真实 IP 地址发送回浏览器后，我们终于可以调用它了。所以这就是真实地址的样子。所以它仍然有协议，但随之而来的是IP地址。还有我们在服务器上访问的端口。这个端口号实际上只是为了识别在服务器上运行的特定服务。所以你可以把它想象成一个子地址，好吧。这个端口号与我们要访问的/rest/V2资源无关。
  
  
  因此，该资源实际上将在 HTTP 请求中发送，我们稍后会看到。好的，这实际上完成了第一步。所以一旦我们有了真实的 IP 地址，浏览器和服务器之间就建立了一个 TCP 套接字连接。所以他们现在终于联系上了。并且此连接通常在传输网站的所有文件或所有数据所需的整个时间内保持活动状态。现在什么是 TCP 和 IP？那么 
  
  (TCP 是传输控制协议。 IP 是互联网协议)。它们共同构成了准确定义数据如何在 Web 上传输的通信协议。它们基本上是 Internet 的基本控制系统，因为同样，它们是(制定有关数据如何在 Internet 上移动的规则的人)
  。如果这听起来令人困惑，请不要担心，我们实际上将在本视频稍后部分了解更多有关 TCP/IP 的知识。
  但无论如何，现在是时候最终提出我们的要求了。
  
  我们发出的请求是一个 HTTP 请求，其中 HTTP 代表超文本传输​​协议。所以在 TCP/IP 之后，HTTP 是另一种通信协议。顺便说一下，(通信协议只是一个允许两方或更多方进行通信的规则系统)。(现在就 HTTP 而言，它只是一种允许客户端和 Web 服务器进行通信的协议)。
  
  
  这通过从客户端向服务器发送请求和响应消息并返回来工作。现在请求消息看起来像这样。消息的开头是最重要的部分，称为起始行。这个包含请求中使用的 HTTP 方法，然后是请求目标和 HTTP 版本。关于 HTTP 方法，有很多可用的方法，但最重要的是；( GET，简单请求数据，POST，发送数据，PUT和PATCH，基本修改数据)。(所以你会看到对服务器的 HTTP 请求不仅是为了获取数据，而且我们还可以发送数据)，

  现在是的。现在关于请求目标。这是服务器被告知在这种情况下我们要访问 rest/V2/alpha 资源的地方，还记得吗？所以我们之前在 URL 中有这个，现在它只是作为 HTTP 请求中的目标发送。

  然后服务器可以弄清楚如何处理它。现在，如果这个目标是空的，所以如果它基本上只是一个斜线，那么(我们将访问网站的路由，在这个例子中就是restcountries.eu)。然后请求的下一部分是请求头，(它只是我们发送的关于请求本身的一些信息。有大量标准的不同标头，例如用于发出请求的浏览器、时间、用户的语言等等)。现在终于，在这种情况下，(我们将数据发送到服务器。还有一个请求正文，该正文将包含我们发送的数据，例如，来自 HTML 表单的数据。这就是 HTTP 请求)。我希望这对你有意义。
  现在，当然，不是我们开发人员手动编写这些 HTTP 请求，但是了解 HTTP 请求和响应是什么样的仍然很有帮助和有价值。另外，我想提一下，您可能知道还有 HTTPS。( HTTP 和 HTTPS 之间的主要区别在于，HTTPS 是使用 TLS 或 SSL 加密的，
  
  它们还有一些是协议，但我不会让您感到厌烦)。(但除此之外，HTTP 请求和响应背后的逻辑仍然适用于 HTTPS，好吗？
  
  所以我们的请求形成，现在它到达服务器，然后服务器将处理它，直到它准备好我们的数据或网页发送回来。)一旦准备就绪，它将使用您可以猜到的 HTTP 响应将其发回。
  
  而且 HTTP 响应消息实际上看起来与请求非常相似。起始行、标题和正文也是如此。现在，(在这种情况下，起始行除了版本之外还有状态代码和消息。这些用于让客户端知道请求是成功还是失败。例如，200 表示可以。而大家都知道的状态码是404，表示找不到页面)。所以这就是每个人都知道的 404 代码的来源，好吧。然后
  
  
  响应头是关于响应本身的信息。所以就像以前一样，有很多可用的，我们实际上也可以自己制作。最后，(响应的最后一部分再次是正文，它出现在大多数响应中，该正文通常包含从 API 返回的 JSON 数据或我们请求的网页的 HTML 或类似内容.)所以我们谈得很详细. 关于这里最重要的部分，即 HTTP 请求和响应。
  
  
  但在我们想象的例子中，我们只对 restcountries.eu 做了一个请求并得到了一个回复，对吧？当我们所做的只是访问 API 时，这就是它的工作方式。但是，如果它是我们正在访问的网页，那么将会有更多的请求和响应。那是因为
  当我们执行第一个请求时，我们返回的只是初始 HTML 文件。然后，该 HTML 文件将被浏览器扫描以获取构建整个 Web 页面（如 JavaScript、CSS 文件、图像文件或其他资产）所需的所有资产
  。然后对于每个不同的文件，都会向服务器发出一个新的 HTTP 请求。所以基本上客户端和服务器之间的整个来回发生在网页中包含的每个文件中。但是，可以同时发生多个请求和响应，但数量仍然有限，否则连接会开始变慢。
  
  但无论如何，当所有文件最终到达时，就可以根据您已经知道的 HTML、CSS 和 JavaScript 规范在浏览器中呈现 Web 页面。
  
  现在，作为拼图的最后一部分，让我们再次讨论 TCP/IP 并弄清楚这些请求和响应数据实际上是如何通过 Web 发送的，好吧。所以我们之前说过 
  
  TCP 和 IP 是定义数据如何在 Web 上传输的通信协议。现在我不会在这里详细介绍，但这是您需要知道的。所以(首先 TCP 的工作是将请求和响应分解成数千个小块，称为数据包，然后再发送。一旦小数据包到达它们的最终目的地，TCP 会将所有数据包重新组合成原始请求或响应。)这是必要的，以便每个数据包可以通过互联网采用不同的路由，因为这样消息可以尽快到达目的地，如果我们将整个数据作为一个大块发送，这是不可能的
  
  。所以这就像试图用你能想象的最大的公共汽车一样穿过密集的交通。所以可能不是一个好主意。现在，作为第二部分，IP 协议的工作是通过 Internet 实际发送和路由这些数据包。因此(，它确保他们到达他们应该去的目的地，使用每个数据包的 IP 地址)。好的，就是这样。这是对 Web 幕后真正发生的事情的广泛概述。我希望您发现这些信息有用且有趣且不会太令人困惑。但无论如何，现在让我们回到我们的 JavaScript 和 AJAX 调用。 
