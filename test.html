<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // const restaurant = {
        //     name: 'Classico Italiano',
        //     location: 'Via Angelo Tavanti 23, Firenze, Italy',
        //     categories: ['Italian', 'Pizzeria', 'Vegetarian', 'Organic'],
        //     starterMenu: ['Focaccia', 'Bruschetta', 'Garlic Bread', 'Caprese Salad'],
        //     mainMenu: ['Pizza', 'Pasta', 'Risotto'],
        //     order(starterIndex, mainIndex) {
        //         return [this.starterMenu[starterIndex], this.mainMenu[mainIndex]]
        //     }
        // };

        // // ES5
        // const arr = [2, 3, 4];
        // // const a = arr[0];
        // // const b = arr[1];
        // // const c = arr[2];

        // // ES6
        // const [x, y, z] = arr;
        // console.log(x, y, z); // 2 3 4
        // console.log(arr); // Array(3) 0: 2 1: 3 2: 4 length: 3

        // // const [first, second] = restaurant.categories;
        // let [main, , secondary] = restaurant.categories;
        // console.log(main, secondary); // Italian Vegetarian

        // // const temp = main;
        // // main = secondary;
        // // secondary = temp;
        // // console.log(main, secondary); // Vegetarian Italian 

        // [main, secondary] = [secondary, main];
        // console.log(main, secondary); // Italian Vegetarian

        // // 从函数接收2个返回值
        // const [starter, mainCourse] = restaurant.order(0, 2);
        // console.log(starter, mainCourse); // Focaccia Risotto

        // // 嵌套结构
        // const nested = [2, 4, [5, 6]];
        // // const [i, , j] = nested;
        // const [i, , [j, k]] = nested;
        // console.log(i, j, k); // 2 5 6

        // // 默认值
        // const [p = 1, q = 1, r = 1] = [8, , 9];
        // console.log(p, q, r); // 8 1 9
        const restaurant = {
            name: 'Classico Italiano',
            location: 'Via Angelo Tavanti 23, Firenze, Italy',
            categories: ['Italian', 'Pizzeria', 'Vegetarian', 'Organic'],
            starterMenu: ['Focaccia', 'Bruschetta', 'Garlic Bread', 'Caprese Salad'],
            mainMenu: ['Pizza', 'Pasta', 'Risotto'],
            openingHours: {
                thu: {
                    open: 12,
                    close: 22,
                },
                fri: {
                    open: 11,
                    close: 22,
                },
                sat: {
                    open: 0,
                    close: 24,
                },
            },
            order: function (starterIndex, mainIndex) {
                return [this.starterMenu[starterIndex], this.mainMenu[mainIndex]]
            },
            orderDelivery: function ({ starterIndex, mainIndex, time, address }) {
                console.log(`Order received! ${this.starterMenu[starterIndex]} and ${this.mainMenu[mainIndex]} will be delivered to ${address} at ${time}`);
            },
            orderPasta: function (ing1, ing2, ing3) {
                console.log(`Here is your declicious pasta with ${ing1}, ${ing2} and ${ing3}`);
            }
        };
        // const { name, openingHours, categories } = restaurant;
        // console.log(name, openingHours, categories);
        // // Classico Italiano {thu: {…}, fri: {…}, sat: {…}} (4) ['Italian', 'Pizzeria', 'Vegetarian', 'Organic']
        // console.log(name === restaurant.name); // true

        // // 自定义属性名称
        // const {
        //     name: restaurantName,
        //     openingHours: hours,
        //     categories: tags,
        // } = restaurant;
        // console.log(restaurantName, hours, tags);
        // // Classico Italiano {thu: {…}, fri: {…}, sat: {…}} (4) ['Italian', 'Pizzeria', 'Vegetarian', 'Organic']

        // // 默认值
        // const { menu = [], starterMenu: starters = [] } = restaurant;
        // console.log(menu, starters);
        // console.log(menu in restaurant); // false

        // // 变异变量
        // let a = 111;
        // let b = 999;
        // let obj = { a: 23, b: 7, c: 14 };
        // ({ a, b } = obj);
        // console.log(obj);
        // obj = {};
        // console.log(obj);
        // console.log(a, b); // 23 7

        // // 嵌套对象
        // const { fri: { open, close } } = openingHours;
        // console.log(open, close);

        // // 函数参数解构
        // restaurant.orderDelivery({
        //     time: '22:30',
        //     address: 'Via del Sole, 21',
        //     mainIndex: 2,
        //     starterIndex: 2,
        // });

        // const aa = [, 2, 3];
        // const [q = [], w, e] = aa;
        // console.log(q, w, e)

        const arr = [7, 8, 9];
        const badNewArr = [1, 2, arr[0], arr[1], arr[2]];
        console.log(badNewArr); // (5) [1, 2, 7, 8, 9]

        const newArr = [1, 2, ...arr];
        console.log(newArr); // (5) [1, 2, 7, 8, 9]

        console.log(...newArr); // 1 2 7 8 9
        console.log(1, 2, 7, 8, 9);

        const newMenu = [...restaurant.mainMenu, 'Gnocci'];
        console.log(newMenu); // Array(4) 0: "Pizza" 1: "Pasta" 2: "Risotto" 3: "Gnocci" length: 4

        // Copy array
        const mainMenuCopy = [...restaurant.mainMenu];
        console.log(mainMenuCopy);

        // Join 2 arrays
        const menu = [...restaurant.starterMenu, ...restaurant.mainMenu];
        console.log(menu);

        // Iterables(可重复的): arrays, strings, maps, sets. NOT objects
        const str = 'Jonas';
        const letters = [...str, ' ', 'S.'];
        console.log(letters);
        console.log(...str);
        // console.log(`${ ...str } Schmedtmann`) // 报错

        // Real-world example
        // 扩展用于新数组 && 函数传参数
        // const ingredients = [
        //     prompt("Let's make pasta! Ingredient 1?"),
        //     prompt('Ingredient 2?'),
        //     prompt('Ingredient 3'),
        // ];
        // console.log(ingredients);

        // restaurant.orderPasta(ingredients[0], ingredients[1], ingredients[2]);
        // restaurant.orderPasta(...ingredients);

        // Object 
        const newRestaurant = {
            foundedIn: 1998,
            ...restaurant,
            founder: 'Guiseppe'
        };
        console.log(newRestaurant);

        const restaurantCopy = { ...newRestaurant };
        console.log(restaurantCopy);

        restaurantCopy.name = 'Ristorante Roma';
        restaurantCopy.categories.push('haha');
        console.log(restaurant);
        console.log(newRestaurant); // Classico Italiano
        console.log(restaurantCopy); // Ristorante Roma


        let mark = {
            age: "18",
            job: 'teacher'
        }
        let Jonas = mark;
        Jonas = {};
        Jonas.job = "drive";
        console.log(mark, Jonas);

        console.log(test);
        var test = function () {
            console.log('hahah');
        }
        console.log(test);

        console.log(a); // 未捕获的引用错误:无法在初始化前访问“a”
        const a = 123;

    </script>
</body>

</html>